<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Summer Training 2025 Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Minimal CSS for sidebar and map layout -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        html, body { height: 100%; margin: 0; padding: 0; }
        #sidebar {
            width: 320px;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            background: #fff;
            border-right: 1px solid #ccc;
            overflow-y: auto;
            transition: transform 0.3s cubic-bezier(.4,2.08,.55,.44);
            z-index: 1001;
        }
        #sidebar.sidebar-closed {
            transform: translateX(-100%);
        }
        #sidebar-toggle {
            position: absolute;
            top: 14px;
            right: -28px;
            background: #fff;
            border: 1px solid #ccc;
            border-left: none;
            border-radius: 0 6px 6px 0;
            width: 28px;
            height: 44px;
            cursor: pointer;
            z-index: 1002;
            font-size: 21px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #sidebar.sidebar-closed #sidebar-toggle {
            right: -28px;
        }
        #sidebar h2 {
            margin: 24px 0 12px 28px;
            font-size: 1.2em;
        }
        #location-list {
            margin-bottom: 24px;
        }
        .month-group { margin-bottom: 12px; border-radius: 8px; padding-bottom: 5px;}
        .month-label { font-weight: bold; padding: 8px 20px 4px 20px;}
        .event-item { margin: 7px 10px; border-radius: 7px; background: #f6f6fa; box-shadow: 0 1px 2px #eee; }
        .event-header { cursor: pointer; padding: 11px 16px 7px 16px; }
        .event-name { font-weight: bold; color: #173a5e; display: block;}
        .event-date { font-size: 0.94em; color: #3a5570; display: block; margin-top: 2px;}
        .event-details { display: none; padding: 0 16px 13px 16px; font-size: 0.97em;}
        .event-item.expanded .event-details { display: block; }
        .event-item.expanded { border: 2px solid #0074d9; background: #e4f4ff;}
        #map { position: absolute; top: 0; left: 320px; right: 0; bottom: 0; }
        #sidebar.sidebar-closed + #map { left: 0; }
        @media (max-width: 700px) {
            #sidebar { width: 90vw; }
            #sidebar.sidebar-closed + #map { left: 0; }
            #map { left: 90vw; }
        }
    </style>
</head>
<body>
    <div id="sidebar" class="sidebar-open">
        <button id="sidebar-toggle" aria-label="Toggle sidebar">&#x25C0;</button>
        <h2>Summer Training 2025</h2>
        <div id="location-list"></div>
    </div>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
    // DATA
    const addresses = [
        {
            name: "FURY (150 - 200)",
            poc: "Jay Merrifield",
            phone: "801-336-6924",
            address: "15440 Laguna Canyon Rd. Suite 210. Irvine, CA. 92618",
            coords: [33.6644, -117.7576],
            date: "June 26 - 27"
        },
        {
            name: "BAN, UNITED, & FORGE (65-75)",
            poc: "Grant Misbach",
            phone: "(801) 643-9206",
            address: "10532 Acacia St. Rancho Cucomongo, Ca. 91730",
            coords: [34.0921, -117.5743],
            date: "June 30 - July 1"
        },
        {
            name: "DAUNTLESS (35)",
            poc: "Casey Mosier",
            phone: "801-787-2621",
            address: "15601 Garland Cir. Westminster CA 92683",
            coords: [33.7436, -117.9677],
            date: "July 7 - 8"
        },
        {
            name: "THE SPARTANS (15)",
            poc: "Spencer deavila/ Zak Hattab",
            phone: "484-401-0077",
            address: "27141 Hideaway Ave. Santa Clarita, 91351",
            coords: [34.4264, -118.4842],
            date: "July 10 - 11"
        },
        {
            name: "PRIME (30)",
            poc: "Hayden Young",
            phone: "385-219-0979",
            address: "3536 W Dorothea Ave. Visalia, CA. 93277",
            coords: [36.2995, -119.3258],
            date: "July 14 - 15"
        },
        {
            name: "MOTION (50+)",
            poc: "Junior Bandeira",
            phone: "773-501-5285",
            address: "6144 Industrial Way. Suite B. Livermore, CA. 94551",
            coords: [37.7038, -121.7680],
            date: "July 17 - 18"
        },
        {
            name: "MOMENTVS (70-80)",
            poc: "Cole Sexton & Christian Harrison",
            phone: "320-339-1204",
            address: "10532 Acacia St. Rancho Cucomongo, Ca. 91730",
            coords: [34.0921, -117.5743],
            date: "June 23 - 24"
        }
    ];

    // Helper to parse and sort events chronologically
    function parseDateRange(dateStr) {
        const months = { "June": 5, "July": 6, "August": 7 };
        const parts = dateStr.split("-");
        if (parts.length === 2) {
            const [startStr, endStr] = parts;
            const startMatch = startStr.trim().match(/([A-Za-z]+)\s+(\d+)/);
            if (!startMatch) return null;
            const startMonth = startMatch[1];
            const startDay = parseInt(startMatch[2], 10);

            const endMatch = endStr.trim().match(/([A-Za-z]+)?\s*(\d+)/);
            let endMonth = startMonth;
            let endDay;
            if (endMatch) {
                if (endMatch[1]) endMonth = endMatch[1];
                endDay = parseInt(endMatch[2], 10);
            }
            return [
                { month: startMonth, monthNum: months[startMonth], day: startDay },
                { month: endMonth, monthNum:
